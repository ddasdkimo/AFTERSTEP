# ADR 0002: Cell 網格尺寸選擇 200 米

## 狀態

已採納

## 背景

Cell 網格系統用於：
1. 紅點顯示的空間單位
2. 微事件觸發的冷卻範圍
3. Firestore 活動記錄的粒度

需要決定 Cell 的尺寸大小。

可選方案：
- **A: 100m**：較精細，但會產生大量 Cell 記錄
- **B: 200m**：平衡精度與資料量
- **C: 500m**：粗糙，但資料量最小

## 決策

選擇 **200 米** 作為 Cell 尺寸。

## 理由

1. **符合規格要求**：TECHNICAL_SPEC.md 明確指定 200m
2. **步行體驗**：200m 約需 2-3 分鐘步行穿越，提供適當的「探索區塊」感
3. **紅點分布**：在城市環境中 200m 能呈現足夠的「存在痕跡」密度
4. **資料量平衡**：相比 100m 減少 75% 的 Cell 數量

## 取捨

- **缺點**：無法精確顯示使用者在 200m 範圍內的具體位置
- **緩解**：紅點本來就需要位置模糊（50-100m 偏移），所以精度損失可接受

## 後果

- GeoEncoder 使用固定 200m 進行座標轉換
- 每個 Cell ID 格式為 `{row}:{col}`
- Firestore 以 Cell 為單位記錄最後活動時間
